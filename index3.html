<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ³°æ–‡å–®å­—æ¸¬é©—</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6C5CE7;
            --secondary: #A29BFE;
            --accent: #00CEC9;
            --bg: #DFE6E9;
            --card-bg: #FFFFFF;
            --text: #2D3436;
            --correct: #00B894;
            --wrong: #FF7675;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .app-container {
            background: var(--card-bg);
            width: 100%;
            max-width: 400px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            overflow: hidden;
            position: relative;
            min-height: 500px;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            position: relative;
        }

        .score-badge {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9rem;
        }

        /* Screens */
        .screen {
            flex: 1;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            transition: opacity 0.3s ease;
        }

        .hidden {
            display: none !important;
        }

        /* Start Screen */
        .hero-emoji {
            font-size: 5rem;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        h1 {
            margin: 0 0 10px 0;
            color: var(--primary);
        }

        p {
            color: #636e72;
            line-height: 1.6;
        }

        /* Quiz Screen */
        .progress-bar {
            width: 100%;
            height: 6px;
            background: #eee;
            margin-bottom: 20px;
            border-radius: 3px;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent);
            width: 0%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .question-card {
            background: #F8F9FA;
            width: 100%;
            padding: 30px 10px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 2px solid #eee;
        }

        .thai-word {
            font-family: 'Sarabun', sans-serif;
            font-size: 3.5rem;
            color: var(--primary);
            font-weight: 700;
            margin: 0;
            line-height: 1.2;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            width: 100%;
        }

        .option-btn {
            background: white;
            border: 2px solid #dfe6e9;
            padding: 15px 5px;
            border-radius: 12px;
            font-size: 1rem;
            color: var(--text);
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .option-btn:hover:not([disabled]) {
            border-color: var(--secondary);
            background: #fefefe;
            transform: translateY(-2px);
        }

        .option-btn.correct {
            background: var(--correct);
            border-color: var(--correct);
            color: white;
        }

        .option-btn.wrong {
            background: var(--wrong);
            border-color: var(--wrong);
            color: white;
            opacity: 0.6;
        }

        /* Result Screen */
        .result-score {
            font-size: 4rem;
            font-weight: bold;
            color: var(--primary);
            margin: 10px 0;
        }

        .result-comment {
            font-size: 1.2rem;
            margin-bottom: 30px;
            font-weight: bold;
        }

        /* Common Buttons */
        .btn-primary {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.3);
            transition: transform 0.2s;
            font-weight: bold;
        }

        .btn-primary:active {
            transform: scale(0.95);
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        /* Feedback Text */
        .feedback-msg {
            height: 20px;
            margin-top: 10px;
            font-weight: bold;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

    <div class="app-container">
        <header>
            Thai Quiz ğŸ‡¹ğŸ‡­
            <div class="score-badge">ğŸ’ <span id="score-display">0</span></div>
        </header>

        <div id="start-screen" class="screen">
            <div class="hero-emoji">ğŸ˜</div>
            <h1>æ³°æ–‡å–®å­—æŒ‘æˆ°</h1>
            <p>æ¯å¤©ç·´ç¿’ 5 å€‹å–®å­—<br>è¼•é¬†å­¸æœƒæ³°èªåŸºç¤ï¼</p>
            <button class="btn-primary" onclick="game.start()">é–‹å§‹æŒ‘æˆ°</button>
        </div>

        <div id="quiz-screen" class="screen hidden">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            
            <div class="question-card">
                <div class="thai-word" id="q-word">...</div>
            </div>

            <div class="options-grid" id="options-container">
                </div>
            <div id="feedback-msg" class="feedback-msg"></div>
        </div>

        <div id="result-screen" class="screen hidden">
            <div class="hero-emoji">ğŸ†</div>
            <h2>æ¸¬é©—å®Œæˆï¼</h2>
            <div class="result-score" id="final-score">0</div>
            <div class="result-comment" id="final-comment">ä¸éŒ¯å–”ï¼</div>
            <button class="btn-primary" onclick="game.start()">å†ç©ä¸€æ¬¡</button>
        </div>
    </div>

    <script>
        const questions = [
            { word: "à¸ªà¸§à¸±à¸ªà¸”à¸µ", correct: "ä½ å¥½", options: ["è¬è¬", "å†è¦‹", "å°ä¸èµ·"] },
            { word: "à¸‚à¸­à¸šà¸„à¸¸à¸“", correct: "è¬è¬", options: ["å¥½åƒ", "å¤šå°‘éŒ¢", "ä¸è¦"] },
            { word: "à¸‚à¸­à¹‚à¸—à¸©", correct: "å°ä¸èµ·", options: ["ä½ å¥½", "æ²’é—œä¿‚", "ä»€éº¼"] },
            { word: "à¹„à¸¡à¹ˆà¹€à¸›à¹‡à¸™à¹„à¸£", correct: "æ²’é—œä¿‚", options: ["å»å“ªè£¡", "å»æ‰€", "éå¸¸"] },
            { word: "à¸à¸´à¸™à¸‚à¹‰à¸²à¸§", correct: "åƒé£¯", options: ["å–æ°´", "ç¡è¦º", "èµ°è·¯"] },
            { word: "à¸­à¸£à¹ˆà¸­à¸¢", correct: "å¥½åƒ", options: ["å¥½ç©", "æ¼‚äº®", "ç”Ÿæ°£"] },
            { word: "à¹€à¸—à¹ˆà¸²à¹„à¸«à¸£à¹ˆ", correct: "å¤šå°‘éŒ¢", options: ["å¹¾é»", "èª°", "ç‚ºä»€éº¼"] },
            { word: "à¸«à¹‰à¸­à¸‡à¸™à¹‰à¸³", correct: "å»æ‰€", options: ["æˆ¿é–“", "å»šæˆ¿", "å­¸æ ¡"] },
            { word: "à¹„à¸›à¹„à¸«à¸™", correct: "å»å“ªè£¡", options: ["åšä»€éº¼", "æ€éº¼èµ°", "æ˜¯èª°"] },
            { word: "à¹ƒà¸Šà¹ˆ", correct: "æ˜¯çš„", options: ["ä¸æ˜¯", "æ²’æœ‰", "å¯ä»¥"] }
        ];

        class QuizGame {
            constructor() {
                this.score = 0;
                this.currentQIndex = 0;
                this.gameQuestions = [];
                this.isBusy = false;

                // DOM Elements
                this.screens = {
                    start: document.getElementById('start-screen'),
                    quiz: document.getElementById('quiz-screen'),
                    result: document.getElementById('result-screen')
                };
                this.els = {
                    score: document.getElementById('score-display'),
                    word: document.getElementById('q-word'),
                    options: document.getElementById('options-container'),
                    progress: document.getElementById('progress-fill'),
                    finalScore: document.getElementById('final-score'),
                    finalComment: document.getElementById('final-comment'),
                    feedback: document.getElementById('feedback-msg')
                };
            }

            start() {
                // Reset
                this.score = 0;
                this.currentQIndex = 0;
                this.els.score.innerText = 0;
                
                // Randomize and pick 5 questions
                this.gameQuestions = [...questions]
                    .sort(() => Math.random() - 0.5)
                    .slice(0, 5);

                this.switchScreen('quiz');
                this.renderQuestion();
            }

            switchScreen(name) {
                Object.values(this.screens).forEach(s => s.classList.add('hidden'));
                this.screens[name].classList.remove('hidden');
            }

            renderQuestion() {
                this.isBusy = false;
                this.els.feedback.innerText = "";
                this.els.feedback.style.color = "transparent";

                const q = this.gameQuestions[this.currentQIndex];
                
                // Update UI
                this.els.word.innerText = q.word;
                const pct = ((this.currentQIndex) / this.gameQuestions.length) * 100;
                this.els.progress.style.width = `${pct}%`;

                // Prepare options
                let allOptions = [...q.options, q.correct];
                allOptions.sort(() => Math.random() - 0.5);

                this.els.options.innerHTML = '';
                allOptions.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.innerText = opt;
                    btn.onclick = () => this.checkAnswer(btn, opt, q.correct);
                    this.els.options.appendChild(btn);
                });
            }

            checkAnswer(btn, selected, correct) {
                if (this.isBusy) return;
                this.isBusy = true;

                const buttons = this.els.options.querySelectorAll('button');
                
                if (selected === correct) {
                    this.score += 20; // 5 questions, 20 pts each
                    this.els.score.innerText = this.score;
                    btn.classList.add('correct');
                    this.showFeedback(true);
                } else {
                    btn.classList.add('wrong');
                    // Highlight the correct one
                    buttons.forEach(b => {
                        if (b.innerText === correct) b.classList.add('correct');
                    });
                    this.showFeedback(false);
                }

                // Next question delay
                setTimeout(() => {
                    this.currentQIndex++;
                    if (this.currentQIndex < this.gameQuestions.length) {
                        this.renderQuestion();
                    } else {
                        this.endGame();
                    }
                }, 1200);
            }

            showFeedback(isCorrect) {
                if(isCorrect) {
                    this.els.feedback.innerText = "æ­£ç¢ºï¼ à¹€à¸à¹ˆà¸‡à¸¡à¸²à¸ (å¾ˆæ£’)";
                    this.els.feedback.style.color = "var(--correct)";
                } else {
                    this.els.feedback.innerText = "å“å‘€ï¼è¨˜èµ·ä¾†äº†å—ï¼Ÿ";
                    this.els.feedback.style.color = "var(--wrong)";
                }
            }

            endGame() {
                this.els.progress.style.width = '100%';
                this.els.finalScore.innerText = this.score;
                
                let comment = "";
                if (this.score === 100) comment = "å¤ªç¥äº†ï¼æ³°åœ‹äººæ˜¯ä½ ï¼ŸğŸ˜ğŸ‡¹ğŸ‡­";
                else if (this.score >= 80) comment = "è¶…å²å®³ï¼å¹¾ä¹å…¨å°ï¼âœ¨";
                else if (this.score >= 60) comment = "é‚„ä¸éŒ¯ï¼Œç¹¼çºŒåŠ æ²¹ï¼ğŸ”¥";
                else comment = "æ²’é—œä¿‚ï¼Œå¤šç©å¹¾æ¬¡å°±ç†Ÿäº†ï¼ğŸ’ª";
                
                this.els.finalComment.innerText = comment;
                this.switchScreen('result');
            }
        }

        const game = new QuizGame();
    </script>
</body>
</html>
